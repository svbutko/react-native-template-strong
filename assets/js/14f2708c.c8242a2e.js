"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3582],{9043:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>d,toc:()=>r});var i=a(4848),t=a(8453);const s={sidebar_position:2,title:"Add language"},o=void 0,d={id:"localisation/add-language",title:"Add language",description:"Description",source:"@site/docs/localisation/add-language.md",sourceDirName:"localisation",slug:"/localisation/add-language",permalink:"/react-native-template-strong/docs/localisation/add-language",draft:!1,unlisted:!1,editUrl:"https://github.com/svbutko/react-native-template-strong/master/website/docs/localisation/add-language.md",tags:[],version:"current",lastUpdatedAt:163410101e4,sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Add language"},sidebar:"tutorialSidebar",previous:{title:"Translations",permalink:"/react-native-template-strong/docs/localisation/translations"},next:{title:"Change language",permalink:"/react-native-template-strong/docs/localisation/change-language"}},l={},r=[{value:"Description",id:"description",level:2},{value:"Add language in localization",id:"add-language-in-localization",level:2},{value:"Add imports for dayjs",id:"add-imports-for-dayjs",level:2},{value:"Add imports for intl",id:"add-imports-for-intl",level:2},{value:"Add language in iOS",id:"add-language-in-ios",level:2},{value:"Add language in Android",id:"add-language-in-android",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsx)(n.p,{children:"To add a new language you have to do some changes in native iOS and Android code in order to show available languages in stores and in application's settings."}),"\n",(0,i.jsxs)(n.p,{children:["And it goes without saying you have to add language in ",(0,i.jsx)(n.code,{children:"localization"})," itself and add translation for each string already defined in other languages."]}),"\n",(0,i.jsxs)(n.p,{children:["There also should be added imports of translations for ",(0,i.jsx)(n.code,{children:"intl"})," and ",(0,i.jsx)(n.code,{children:"dayjs"})," to show correct strings and formats."]}),"\n",(0,i.jsx)(n.p,{children:"As an example, I will add Russian language."}),"\n",(0,i.jsx)(n.h2,{id:"add-language-in-localization",children:"Add language in localization"}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:"localization.ts"})," you can see ",(0,i.jsx)(n.code,{children:"Languages"})," enum."]}),"\n",(0,i.jsxs)(n.p,{children:["Add your language (in our example ",(0,i.jsx)(n.code,{children:"ru"}),") there based on its locale identifier."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'export enum Languages {\n    en = "en",\n    ru = "ru",\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Then you have to open every single translation file you have stored in ",(0,i.jsx)(n.code,{children:"translations"})," folder and add ",(0,i.jsx)(n.code,{children:"ru"})," with every single translation string."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, here's how ",(0,i.jsx)(n.code,{children:"emptyLocalization"})," will look like:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'export const emptyLocalization = {\n  en: {\n    noData: "No data",\n    checkThisPageLater: "Check this page later",\n  },\n  ru: {\n    noData: "\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445",\n    checkThisPageLater: "\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e\u0437\u0436\u0435",\n  },\n};\n'})}),"\n",(0,i.jsx)(n.p,{children:"If you miss a string in some langauge, it will be seen as error in place where you are using this string."}),"\n",(0,i.jsx)(n.h2,{id:"add-imports-for-dayjs",children:"Add imports for dayjs"}),"\n",(0,i.jsxs)(n.p,{children:["Open ",(0,i.jsx)(n.code,{children:"/src/common/localization/dateFormatter.ts"})," and the top of this file you will see already an import of English language:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// eslint-disable-next-line import/no-unassigned-import\nimport "dayjs/locale/en";\n'})}),"\n",(0,i.jsx)(n.p,{children:"It has ESLint disable rule because unassigned imports aren't welcome."}),"\n",(0,i.jsx)(n.p,{children:"Add your language import here and add the disable rule comment too:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// eslint-disable-next-line import/no-unassigned-import\nimport "dayjs/locale/en";\n// eslint-disable-next-line import/no-unassigned-import\nimport "dayjs/locale/ru";\n'})}),"\n",(0,i.jsx)(n.h2,{id:"add-imports-for-intl",children:"Add imports for intl"}),"\n",(0,i.jsxs)(n.p,{children:["Open ",(0,i.jsx)(n.code,{children:"/src/common/localization/intlFormatter.ts"})," and the top of this file you will see already an import of English language:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// eslint-disable-next-line import/no-unassigned-import\nimport "intl/locale-data/jsonp/en";\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Add your language the same way you did with ",(0,i.jsx)(n.code,{children:"dayjs"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// eslint-disable-next-line import/no-unassigned-import\nimport "intl/locale-data/jsonp/en";\n// eslint-disable-next-line import/no-unassigned-import\nimport "intl/locale-data/jsonp/ru";\n'})}),"\n",(0,i.jsx)(n.h2,{id:"add-language-in-ios",children:"Add language in iOS"}),"\n",(0,i.jsxs)(n.p,{children:["Open ",(0,i.jsx)(n.code,{children:".xcworkspace"})," file in XCode."]}),"\n",(0,i.jsx)(n.p,{children:"We will be adding stub files without actual translations so that App Store and the application settings would see that the app has support for languages."}),"\n",(0,i.jsxs)(n.p,{children:["To add a language follow this ",(0,i.jsx)(n.a,{href:"https://developer.apple.com/documentation/xcode/adding-support-for-languages-and-regions",children:"guide"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"When you added a language just add a comment there to mention that actual localization is stored within your TypeScript files."}),"\n",(0,i.jsxs)(n.p,{children:["More about localization for App Store and other things you can find ",(0,i.jsx)(n.a,{href:"https://developer.apple.com/localization/",children:"here"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"add-language-in-android",children:"Add language in Android"}),"\n",(0,i.jsxs)(n.p,{children:["Open ",(0,i.jsx)(n.code,{children:"Android"})," folder in Android Studio."]}),"\n",(0,i.jsxs)(n.p,{children:["And follow this ",(0,i.jsx)(n.a,{href:"https://developer.android.com/training/basics/supporting-devices/languages",children:"guide"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Just add ",(0,i.jsx)(n.code,{children:".xml"})," strings."]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>d});var i=a(6540);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);